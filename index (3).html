<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Investment Analysis</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('https://img.freepik.com/free-vector/gradient-cryptocurrency-concept_23-2149215736.jpg'); /* Add your image path here */
            background-size: cover;
            background-position: center;
            margin: 0;
            padding: 0;
        }
        header {
            background-color: rgba(0, 0, 0, 0.7); /* Transparent black background */
            color: #fff;
            padding: 20px;
            text-align: center;
        }
        h1 {
            margin: 0;
        }
        #data-form {
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        label {
            display: block;
            margin-bottom: 5px;
        }
        input[type="text"], select {
            width: calc(100% - 12px);
            padding: 6px;
            margin-bottom: 10px;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        button {
            background-color: #333;
            color: #fff;
            border: none;
            padding: 10px 20px;
            border-radius: 4px;
            cursor: pointer;
        }
        button:hover {
            background-color: #555;
        }
        table {
            max-width: 800px;
            margin: 20px auto;
            background-color: rgba(255, 255, 255, 0.8); /* Semi-transparent white background */
            border-collapse: collapse;
            border-radius: 8px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.1);
        }
        th, td {
            padding: 10px;
            border-bottom: 1px solid #ddd;
            text-align: left;
        }
        th {
            background-color: #333;
            color: #fff;
        }
    </style>
</head>
<body>

<header>
    <h1>Banking â€“ Investment Prediction</h1>
</header>

<form id="data-form">
    <label for="age">Age:</label>
    <input type="number" id="age" name="age" required>
    
    <label for="job">Job:</label>
    <select id="job" name="job" required>
    <option value="0">Admin</option>
    <option value="1">Blue-collar</option>
    <option value="2">Entrepreneur</option>
    <option value="3">Housemaid</option>
    <option value="4">Management</option>
    <option value="5">Retired</option>
    <option value="6">Self-employed</option>
    <option value="7">Services</option>
    <option value="8">Student</option>
    <option value="9">Technician</option>
    <option value="10">Unemployed</option>
    <option value="11">Unknown</option>
    </select>

    <label for="marital">Marital:</label>
    <select id="marital" name="marital" required>
        <option value="0">Divorced</option>
        <option value="1">Married</option>
        <option value="2">Single</option>
        <option value="3">Unknown</option>
        <!-- Add other marital options here -->
    </select>

    <label for="education">Education:</label>
    <select id="education" name="education" required>
    <option value="0">Basic 4y</option>
    <option value="1">Basic 6y</option>
    <option value="2">Basic 9y</option>
    <option value="3">High School</option>
    <option value="4">Illiterate</option>
    <option value="5">Professional Course</option>
    <option value="6">University Degree</option>
    <option value="7">Unknown</option>
    </select>

    <label for="isDefault">Default (Yes/No):</label>
    <select id="isDefault" name="isDefault" required>
        <option value="0">No</option>
        <option value="1">Unknown</option>
        <option value="2">Yes</option>
    </select>

    <label for="hasHousingLoan">Housing Loan (Yes/No):</label>
    <select id="hasHousingLoan" name="hasHousingLoan" required>
        <option value="0">No</option>
        <option value="1">Unknown</option>
        <option value="2">Yes</option>
    </select>

    <label for="hasPersonalLoan">Personal Loan (Yes/No):</label>
    <select id="hasPersonalLoan" name="hasPersonalLoan" required>
        <option value="0">No</option>
        <option value="1">Unknown</option>
        <option value="2">Yes</option>
    </select>

    <label for="contact">Contact:</label>
    <select id="contact" name="contact" required>
        <option value="0">Cellular</option>
        <option value="1">Telephone</option>
    </select>

    <label for="month">Month:</label>
    <select id="month" name="month" required>
        <option value="0">Apr</option>
        <option value="1">Aug</option>
        <option value="2">Dec</option>
        <option value="3">Jul</option>
        <option value="4">Jun</option>
        <option value="5">Mar</option>
        <option value="6">May</option>
        <option value="7">Nov</option>
        <option value="8">Oct</option>
        <option value="9">Sep</option>
    </select>    

    <label for="dayOfWeek">Day of Week:</label>
    <select id="dayOfWeek" name="dayOfWeek" required>
        <option value="0">Fri</option>
        <option value="1">Mon</option>
        <option value="2">Thu</option>
        <option value="3">Tue</option>
        <option value="4">Wed</option>
    </select>

    <label for="duration">Duration</label>
    <input type="number" id="duration" name="duration">
    
    <label for="campaign">Campaign</label>
    <input type="number" id="campaign" name="campaign">
    
    <label for="pdays">Pdays</label>
    <input type="number" id="pdays" name="pdays">
    
    <label for="previous">Previous</label>
    <input type="number" id="previous" name="previous">    

    <label for="previousAttempt">Previous Attempt</label>
    <select id="previousAttempt" name="previousAttempt" required>
        <option value="0">Failure</option>
        <option value="1">Nonexistent</option>
        <option value="2">Success</option>
    </select>
        

    <button type="button" onclick="populateTable()">Submit</button>
</form>

<table id="prediction-table" style="display: none;">
    <thead>
        <tr>
            <th>Age</th>
            <th>Job</th>
            <th>Marital</th>
            <th>Education</th>
            <th>Default</th>
            <th>Housing Loan</th>
            <th>Personal Loan</th>
            <th>Contact</th>
            <th>Month</th>
            <th>Day of Week</th>
            <th>Duration</th>
            <th>Campaign</th>
            <th>Pdays</th>
            <th>Previous</th>
            <th>Previous Attempt</th>
            <th>Prediction</th>
        </tr>
    </thead>
    <tbody id="prediction-body"></tbody>
</table>

<script>
    function populateTable() {
        // Retrieve form data
        const age = document.getElementById('age').value;
        const job = document.getElementById('job').value;
        const marital = document.getElementById('marital').value;
        const education = document.getElementById('education').value;
        const isDefault = document.getElementById('isDefault').value;
        const hasHousingLoan = document.getElementById('hasHousingLoan').value;
        const hasPersonalLoan = document.getElementById('hasPersonalLoan').value;
        const contact = document.getElementById('contact').value;
        const month = document.getElementById('month').value;
        const dayOfWeek = document.getElementById('dayOfWeek').value;
        const duration = document.getElementById('duration').value;
        const campaign = document.getElementById('campaign').value;
        const pdays = document.getElementById('pdays').value;
        const previous = document.getElementById('previous').value;
        const previousAttempt = document.getElementById('previousAttempt').value;

        // Make AJAX request to your backend for prediction
        // Replace 'predict_endpoint' with the actual endpoint URL for prediction
        fetch('/predict', {
    method: 'POST',
    body: new FormData(document.getElementById('data-form'))
})
.then(response => response.json())
.then(data => {
    const predictionTable = document.getElementById('prediction-table');
    const predictionBody = document.getElementById('prediction-body');
    predictionBody.innerHTML = ''; // Clear previous rows

    // Create a new row for the prediction
    const tr = document.createElement('tr');

    // Add each input value and the prediction to the table row
    const fields = ['age', 'job', 'marital', 'education', 'isDefault', 'hasHousingLoan', 'hasPersonalLoan', 'contact', 'month', 'dayOfWeek', 'duration', 'campaign', 'pdays', 'previous', 'previousAttempt', 'prediction'];
    fields.forEach(field => {
        const td = document.createElement('td');
        td.textContent = field === 'prediction' ? data.prediction : document.getElementById(field).value; // Retrieve input values
        tr.appendChild(td);
    });

    // Append the row to the table body
    predictionBody.appendChild(tr);
    predictionTable.style.display = 'table'; // Show prediction table
})
.catch(error => console.error('Error:', error));
    }
</script>

</body>
</html>
